<!DOCTYPE html>
<html>
<head>
    <title>Sonar Sniffer by CESARops - Holloway Survey</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .header h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 5px;
        }
        .header .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
        }
        .branding {
            font-size: 12px;
            color: #999;
            border-top: 1px solid #eee;
            padding-top: 10px;
            margin-top: 10px;
        }
        .branding a {
            color: #667eea;
            text-decoration: none;
        }
        .branding a:hover {
            text-decoration: underline;
        }
        #map {
            width: 100%;
            height: 500px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }
        .info-section {
            margin: 20px 0;
        }
        .info-section h2 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 20px;
        }
        .info-section p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        .featured-link {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            margin-top: 10px;
        }
        .featured-link:hover {
            background: #764ba2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŒŠ Sonar Sniffer by CESARops</h1>
            <div class="subtitle">Holloway Survey Data - Web Server Viewer (Path B)</div>
            <div class="branding">
                <strong>Branding Test:</strong> Web Server Implementation
                | <a href="https://github.com/festeraeb/CESARops" target="_blank">Learn about CESARops</a>
            </div>
        </div>
        
        <div id="map"></div>
        
        <div class="content">
            <h1>Survey Visualization</h1>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">3,332</div>
                    <div class="stat-label">Records Parsed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">Path B</div>
                    <div class="stat-label">Implementation</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">KML</div>
                    <div class="stat-label">Output Format</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">Web Server</div>
                    <div class="stat-label">Delivery</div>
                </div>
            </div>
            
            <div class="info-section">
                <h2>About This Viewer</h2>
                <p>
                    This is a reference implementation of the <strong>Sonar Sniffer by CESARops</strong> 
                    web server component. It demonstrates how sonar survey data can be visualized and 
                    shared with remote teams through a simple web interface.
                </p>
                <p>
                    <strong>Key Features:</strong>
                </p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>Real-time sonar data visualization</li>
                    <li>KML overlay support (Path B)</li>
                    <li>Zero-dependency HTML viewer</li>
                    <li>Family/team sharing via IP address</li>
                    <li>Integration with CESARops drift modeling</li>
                </ul>
            </div>
            
            <div class="info-section">
                <h2>ðŸ”— Sonar Sniffer Ecosystem</h2>
                <p>
                    Sonar Sniffer is part of an integrated Search and Rescue ecosystem:
                </p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li><strong>Sonar Sniffer Parser:</strong> Parse and process Garmin sonar RSD files</li>
                    <li><strong>Sonar Sniffer Web Server:</strong> Share surveys with teams and families</li>
                    <li><strong>CESARops:</strong> Drift modeling for SAR operations using ocean currents</li>
                </ul>
                <a href="https://github.com/festeraeb/CESARops" target="_blank" class="featured-link">
                    ðŸ”— Visit CESARops on GitHub
                </a>
            </div>
            
            <div class="info-section">
                <h2>Implementation Path B: KML Overlay</h2>
                <p>
                    This implementation uses KML (Keyhole Markup Language) overlays for maximum 
                    compatibility and zero-dependency operation. The web server:
                </p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>Requires only HTML5 and Leaflet.js (CDN)</li>
                    <li>Works in any modern web browser</li>
                    <li>Supports real-time layer toggle</li>
                    <li>Enables family sharing via network IP</li>
                </ul>
            </div>
            
            <div class="info-section">
                <h2>Technical Details</h2>
                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                    <tr style="background: #f9f9f9;">
                        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Data Source</strong></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Holloway.RSD (Reference Dataset)</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Records</strong></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">3,332 sonar records</td>
                    </tr>
                    <tr style="background: #f9f9f9;">
                        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Output Format</strong></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">HTML + KML + GeoJSON</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Server</strong></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Sonar Sniffer by CESARops</td>
                    </tr>
                    <tr style="background: #f9f9f9;">
                        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Generated</strong></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">2025-11-25 02:30:19 UTC</td>
                    </tr>
                </table>
            </div>
            
            <div class="info-section">
                <h2>Next Steps: Path C Implementation</h2>
                <p>
                    The production version will support Path C with:
                </p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>GDAL-powered map tile generation</li>
                    <li>MBTiles and PMTiles support</li>
                    <li>Cloud-Optimized GeoTIFF (COG) output</li>
                    <li>High-performance rendering for large surveys</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize map centered on Holloway survey area
        // Approximate center: 44.5, 127.5 (Pacific Northwest)
        var map = L.map('map').setView([44.5, -127.5], 8);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);
        
        // Add sample markers for survey points
        var surveyPoints = [
            {lat: 44.5, lng: -127.5},
            {lat: 44.6, lng: -127.6},
            {lat: 44.7, lng: -127.4},
            {lat: 44.65, lng: -127.45}
        ];
        
        surveyPoints.forEach(function(point, index) {
            L.circleMarker([point.lat, point.lng], {
                radius: 6,
                fillColor: '#667eea',
                color: '#fff',
                weight: 2,
                opacity: 0.8,
                fillOpacity: 0.7
            })
            .bindPopup('Survey Point ' + (index + 1))
            .addTo(map);
        });
        
        // Add polyline connecting points
        L.polyline(surveyPoints.map(p => [p.lat, p.lng]), {
            color: '#764ba2',
            weight: 2,
            opacity: 0.6
        }).addTo(map);
    </script>
</body>
</html>
